<#import "macros.ftl" as my>
<#assign modelJavaPackage = my.getJavaPackage() >
<#assign thisJavaPackage = modelJavaPackage + ".json.exception" >
/**
 * This file is generated by the Amit
 * don't modify it manually
 */
package ${thisJavaPackage};

import ${modelJavaPackage}.exception.InternalException;
import ${modelJavaPackage}.u.Lib.JsonReader;
import ${modelJavaPackage}.u.Lib.JsonWriter;

import java.io.IOException;

import com.fasterxml.jackson.core.JsonParser;
import com.fasterxml.jackson.core.JsonToken;
import com.fasterxml.jackson.core.JsonGenerator;

public class InternalExceptionSerializer {
	public static final String className = "exception.internal";
	
	/**
	 * the reader
	 */
	public static final JsonReader<InternalException> READER = new JsonReader<InternalException>() {
		public InternalException read( JsonParser jp ) throws IOException {			
			InternalException result = new InternalException();
			
			while( jp.nextToken() == JsonToken.FIELD_NAME ) {
				String fieldName = jp.getCurrentName();
				jp.nextToken();
				if( "reason".equals( fieldName ) ) {
					result.setReason( jp.getText() );
				} else {
					jp.skipChildren(); 					
				}
			}
			
			return result;
		}
	};
	
	/**
	 * the writer
	 */
	public static final JsonWriter WRITER = new JsonWriter() {
		public void write( JsonGenerator jg, Object object ) throws IOException {
			InternalException cobj = (InternalException) object;
			jg.writeStartObject();
			jg.writeFieldName( "__type" );
			jg.writeString( className );
			
			if( cobj.getReason() != null ) {
				jg.writeFieldName( "reason" );
				jg.writeString( cobj.getReason() );
			}
			
			jg.writeEndObject();
		}
	};
}